## 📝 과제 분석 및 구현 전략

### 1. 과제를 어떻게 분석하였나요?

이번 과제는 **AI 챗봇을 중심으로 한 사용자 기반 서비스의 기본 기능 구현**이 목적입니다. 요구사항을 다음과 같이 해석하고 구조화하여 개발을 진행했습니다:

- **핵심 흐름**: 사용자 → 질문 → 답변 → 피드백
- **스레드 관리**: 질문 간 시간 간격에 따라 스레드를 재사용하거나 새로 생성
- **권한 처리**: 일반 사용자와 관리자의 기능 구분
- **기능 분리**: 인증, 사용자 관리, 대화, 피드백, 통계/보고서를 각 패키지로 분리
- **확장 가능성 고려**: 비즈니스 로직과 API 응답 구조 분리, 단일 책임 원칙 유지

### 요약

- 우선 도메인과 핵심 기능을 이해하려고 노력하였고 그 다음은 핵심 로직이 어느 곳에서 문제가 터질 수 있는 지 그리고 구현 시 확장성은 어떠한 지를 생각한 후에 구현에 들어갔습니다.

---

### 2. 과제 진행 시 AI는 어떻게 활용하였으며, 어떤 어려움이 있었나요?

#### ✅ AI 활용 방식

- 초반 기능 요구사항 요약
- 설계 되어진 DTO/Entity 구현과 같은 단순 반복 로직 구현
- `LocalDateTime` 비교 로직 검증과 같은 핵심 비즈니스 로직 구현 후 1차 검증
- Streaming에 대한 이해
- README 파일 기본 구조 작성

#### ⚠️ 어려웠던 점
- 일부 AI 답변은 Java 문법 기반 또는 Spring Boot 2.x 기준이어서 Kotlin/Spring Boot 3.x에 맞춰 직접 조정해야 했습니다.
- GPT API의 응답 구조가 계층적(List<List<Content>>)이기 때문에 파싱이 까다로웠습니다.

---

### 3. 가장 구현하기 어려웠던 기능

#### pagination 권한 분기 로직
- pagination 구현 시 권한 처리를 어떻게 할 지를 고민을 했었습니다.
    - 우선 시간이 없어 if-else 문으로 구현을 하였지만 가독성도 많이 떨어지기 때문에 시간이 있었다면 별도의 메소드로 분리하여 리팩토링을 진행할 것 같습니다.

#### streaming 로직
- streaming 구현에 대한 이해가 부족하였습니다.
    - AI에게 물어봐서 streaming에 대한 이해는 하였지만 구현 시간이 부족할 것 같기도 하고 일단 해당 기능에서 스트리밍이 없다고 해서 작동하지 않는 것은 아니니 isStreaming이 true로 들어올 시 에러를 띄우는 식으로 대응을 하였습니다.

---

### 4. 구현 시 고려한 점들

- ✅ 역할별로 Controller/Service/DTO/Entity를 명확히 분리
- ✅ 에러 명확화
- ✅ 권한(Role)에 따라 데이터 접근 제어
- ✅ 커스텀 어노테이션 기반 사용자 주입 처리
- ✅ 스레드, 대화, 피드백 도메인의 관계 명확화
- ✅ 페이지네이션 + 정렬 + 필터 기능 포함
- ✅ AI 호출 로직은 외부 API 클라이언트로 분리하여 재사용 가능하도록 구성
